language: cpp
os: osx
sudo: required
osx_image: xcode8
addons:
  ssh_known_hosts:
  - github.com

script:
- cd source/Irrlicht/MacOSX/
- xcodebuild -project MacOSX.xcodeproj

before_deploy:
- cd ../../../
- cp source/Irrlicht/MacOSX/build/Release/libIrrlicht.a .
- tar -czf irrlicht-mycard-mac.tar.gz libIrrlicht.a include

deploy:
  provider: releases
  file:
  - irrlicht-mycard-mac.tar.gz
  skip_cleanup: true
  on:
    tags: true
  api-key:
    secure: i5yjZbnASI9hpc9u9KrM4yRKy/w/TMCQnJwe+rBiqd8fs0xgE38ZxPPYSA0uBaaEhBrMmB3G48C6UnGFSZFSJzTBHRbMtOZCkn2GE6KoFEFrFoJZfCYJqY66IlIP+kx2uk5xhlLtu+p067QNifGe7KCqAcFQT1dWAgeozJeqGkGR/2vKUyDkfRhAZvL6BlUQ1AbnYiwUyATB/5uSk9dkT+k4j/e1lvRKXd182yRaAk81fqNmBVCBRFVLFPH/6u9HRgLohrxJ/K36OupnTCmhxvZ4PRd3J6dadyajO0yr3yn4CbPVYBrbTlIBOCtdRvsMcJ3WUSjyhPBAxzMYoHif6z2goe8U9GgB5VrS2BKUkuPO64OVav8fwRtOpz4u9IB480CVVgjwtDifByC7AwoeIpfQWFW/s5/FqY7JPbG5y0oekD03hHyNB/ZUsPtAyvKo4Vl38ysC9OMu/5N5KcGPDG5kbE3KVyBzZkZZUZW0I1QJzmRJJKzxHamSRaGkY5rIN+bXNRPRwHU9JBnPh/LgASaPHAv4AiA+5Z8mNdP7CpEwZlgoIYCK1jiYUcJSZPm+2Ql5sNR8mvQMaecFcT6asuxBMRyERpaHYrVQEGONoiyg3trXCSBLPcU2NfebRocTSbXhbyvLnqRmIWGaUOMCAio0rox0jfk7nhq2a4HUmDk=
